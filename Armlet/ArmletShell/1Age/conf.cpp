#include "Osanve.h"

/*struct config {
	ubyte_t userId; // игрок
	ubyte_t groupId; // группа игроков
	ubyte_t maxForce; // макс силы
	bool evil; // сторона силы
	ubyte_t fph; // скорость восстановления силы (force per hour)
	char name[16]; // имя персонажа
	char fname[16]; //боевое имя персонажа
	sword_t rights; // права браслета (см. AL_CAN в Osanve.h)
};*/

namespace config {
struct config CONF[MAX_ARMLET] = {
		{0,0,255,0,1,"Мастер","Мастер",7} ,
		{1,0,255,0,1,"Мастер","Мастер",7} ,
		{2,0,255,0,1,"Мастер","Мастер",7} ,
		{3,0,255,0,1,"Мастер","Мастер",7} ,
		{4,0,255,0,1,"Мастер","Мастер",7} ,
		{5,0,255,0,1,"Мастер","Мастер",7} ,
		{6,0,255,0,1,"Мастер","Мастер",7} ,
		{7,0,255,0,1,"Мастер","Мастер",7} ,
		{8,0,255,0,1,"Мастер","Мастер",7} ,
		{9,0,255,0,1,"Мастер","Мастер",7} ,
		{10,0,255,0,1,"Мастер","Мастер",7},
		{11,0,255,0,1,"","",3},
		{12,0,255,0,1,"","",3},
		{13,0,255,0,1,"","",3},
		{14,0,255,0,1,"","",3},
		{15,0,255,0,1,"","",3},
		{16,0,255,0,1,"","",3},
		{17,0,255,0,1,"","",3},
		{18,0,255,0,1,"","",3},
		{19,0,255,0,1,"","",3},
		{20,0,255,0,1,"","",3},
		{21,0,255,0,1,"","",3},
		{22,0,255,0,1,"","",3},
		{23,0,255,0,1,"","",3},
		{24,0,255,0,1,"","",3},
		{25,0,255,0,1,"","",3},
		{26,0,255,0,1,"","",3},
		{27,0,255,0,1,"","",3},
		{28,0,255,0,1,"","",3},
		{29,0,255,0,1,"","",3},
		{30,0,255,0,1,"","",3},
		{31,0,255,0,1,"","",3},
		{32,0,255,0,1,"","",3},
		{33,0,255,0,1,"","",3},
		{34,0,255,0,1,"","",3},
		{35,0,255,0,1,"","",3},
		{36,0,255,0,1,"","",3},
		{37,0,255,0,1,"","",3},
		{38,0,255,0,1,"","",3},
		{39,0,255,0,1,"","",3},
		{40,0,255,0,1,"","",3},
		{41,0,255,0,1,"","",3},
		{42,0,255,0,1,"","",3},
		{43,0,255,0,1,"","",3},
		{44,0,255,0,1,"","",3},
		{45,0,255,0,1,"","",3},
		{46,0,255,0,1,"","",3},
		{47,0,255,0,1,"","",3},
		{48,0,255,0,1,"","",3},
		{49,0,255,0,1,"","",3},
		{50,0,255,0,1,"","",3},
		{51,0,255,0,1,"","",3},
		{52,0,255,0,1,"","",3},
		{53,0,255,0,1,"","",3},
		{54,0,255,0,1,"","",3},
		{55,0,255,0,1,"","",3},
		{56,0,255,0,1,"","",3},
		{57,0,255,0,1,"","",3},
		{58,0,255,0,1,"","",3},
		{59,0,255,0,1,"","",3},
		{60,0,255,0,1,"","",3},
		{61,0,255,0,1,"","",3},
		{62,0,255,0,1,"","",3},
		{63,0,255,0,1,"","",3},
		{64,0,255,0,1,"","",3},
		{65,0,255,0,1,"","",3},
		{66,0,255,0,1,"","",3},
		{67,0,255,0,1,"","",3},
		{68,0,255,0,1,"","",3},
		{69,0,255,0,1,"","",3},
		{70,0,255,0,1,"","",3},
		{71,0,255,0,1,"","",3},
		{72,0,255,0,1,"","",3},
		{73,0,255,0,1,"","",3},
		{74,0,255,0,1,"","",3},
		{75,0,255,0,1,"","",3},
		{76,0,255,0,1,"","",3},
		{77,0,255,0,1,"","",3},
		{78,0,255,0,1,"","",3},
		{79,0,255,0,1,"","",3},
		{80,0,255,0,1,"","",3},
		{81,0,255,0,1,"","",3},
		{82,0,255,0,1,"","",3},
		{83,0,255,0,1,"","",3},
		{84,0,255,0,1,"","",3},
		{85,0,255,0,1,"","",3},
		{86,0,255,0,1,"","",3},
		{87,0,255,0,1,"","",3},
		{88,0,255,0,1,"","",3},
		{89,0,255,0,1,"","",3},
		{90,0,255,0,1,"","",3},
		{91,0,255,0,1,"","",3},
		{92,0,255,0,1,"","",3},
		{93,0,255,0,1,"","",3},
		{94,0,255,0,1,"","",3},
		{95,0,255,0,1,"","",3},
		{96,0,255,0,1,"","",3},
		{97,0,255,0,1,"","",3},
		{98,0,255,0,1,"","",3},
		{99,0,255,0,1,"","",3},
		{100,0,255,0,1,"","",3},
		{101,0,255,0,1,"","",3},
		{102,0,255,0,1,"","",3},
		{103,0,255,0,1,"","",3},
		{104,0,255,0,1,"","",3},
		{105,0,255,0,1,"","",3},
		{106,0,255,0,1,"","",3},
		{107,0,255,0,1,"","",3},
		{108,0,255,0,1,"","",3},
		{109,0,255,0,1,"","",3},
		{110,0,255,0,1,"","",3},
		{111,0,255,0,1,"","",3},
		{112,0,255,0,1,"","",3},
		{113,0,255,0,1,"","",3},
		{114,0,255,0,1,"","",3},
		{115,0,255,0,1,"","",3},
		{116,0,255,0,1,"","",3},
		{117,0,255,0,1,"","",3},
		{118,0,255,0,1,"","",3},
		{119,0,255,0,1,"","",3},
		{120,0,255,0,1,"","",3},
		{121,0,255,0,1,"","",3},
		{122,0,255,0,1,"","",3},
		{123,0,255,0,1,"","",3},
		{124,0,255,0,1,"","",3},
		{125,0,255,0,1,"","",3},
		{126,0,255,0,1,"","",3},
		{127,0,255,0,1,"","",3},
		{128,0,255,1,1,"","",3},
		{129,0,255,1,1,"","",3},
		{130,0,255,1,1,"","",3},
		{131,0,255,1,1,"","",3},
		{132,0,255,1,1,"","",3},
		{133,0,255,1,1,"","",3},
		{134,0,255,1,1,"","",3},
		{135,0,255,1,1,"","",3},
		{136,0,255,1,1,"","",3},
		{137,0,255,1,1,"","",3},
		{138,0,255,1,1,"","",3},
		{139,0,255,1,1,"","",3},
		{140,0,255,1,1,"","",3},
		{141,0,255,1,1,"","",3},
		{142,0,255,1,1,"","",3},
		{143,0,255,1,1,"","",3},
		{144,0,255,1,1,"","",3},
		{145,0,255,1,1,"","",3},
		{146,0,255,1,1,"","",3},
		{147,0,255,1,1,"","",3},
		{148,0,255,1,1,"","",3},
		{149,0,255,1,1,"","",3},
		{150,0,255,1,1,"","",3},
		{151,0,255,1,1,"","",3},
		{152,0,255,1,1,"","",3},
		{153,0,255,1,1,"","",3},
		{154,0,255,1,1,"","",3},
		{155,0,255,1,1,"","",3},
		{156,0,255,1,1,"","",3},
		{157,0,255,1,1,"","",3},
		{158,0,255,1,1,"","",3},
		{159,0,255,1,1,"","",3},
		{160,0,255,1,1,"","",3},
		{161,0,255,1,1,"","",3},
		{162,0,255,1,1,"","",3},
		{163,0,255,1,1,"","",3},
		{164,0,255,1,1,"","",3},
		{165,0,255,1,1,"","",3},
		{166,0,255,1,1,"","",3},
		{167,0,255,1,1,"","",3},
		{168,0,255,1,1,"","",3},
		{169,0,255,1,1,"","",3},
		{170,0,255,1,1,"","",3},
		{171,0,255,1,1,"","",3},
		{172,0,255,1,1,"","",3},
		{173,0,255,1,1,"","",3},
		{174,0,255,1,1,"","",3},
		{175,0,255,1,1,"","",3},
		{176,0,255,1,1,"","",3},
		{177,0,255,1,1,"","",3},
		{178,0,255,1,1,"","",3},
		{179,0,255,1,1,"","",3},
		{180,0,255,1,1,"","",3},
		{181,0,255,1,1,"","",3},
		{182,0,255,1,1,"","",3},
		{183,0,255,1,1,"","",3},
		{184,0,255,1,1,"","",3},
		{185,0,255,1,1,"","",3},
		{186,0,255,1,1,"","",3},
		{187,0,255,1,1,"","",3},
		{188,0,255,1,1,"","",3},
		{189,0,255,1,1,"","",3},
		{190,0,255,1,1,"","",3},
		{191,0,255,1,1,"","",3},
		{192,0,255,1,1,"","",3},
		{193,0,255,1,1,"","",3},
		{194,0,255,1,1,"","",3},
		{195,0,255,1,1,"","",3},
		{196,0,255,1,1,"","",3},
		{197,0,255,1,1,"","",3},
		{198,0,255,1,1,"","",3},
		{199,0,255,1,1,"","",3},
		{200,0,255,1,1,"","",3},
		{201,0,255,1,1,"","",3},
		{202,0,255,1,1,"","",3},
		{203,0,255,1,1,"","",3},
		{204,0,255,1,1,"","",3},
		{205,0,255,1,1,"","",3},
		{206,0,255,1,1,"","",3},
		{207,0,255,1,1,"","",3},
		{208,0,255,1,1,"","",3},
		{209,0,255,1,1,"","",3},
		{210,0,255,1,1,"","",3},
		{211,0,255,1,1,"","",3},
		{212,0,255,1,1,"","",3},
		{213,0,255,1,1,"","",3},
		{214,0,255,1,1,"","",3},
		{215,0,255,1,1,"","",3},
		{216,0,255,1,1,"","",3},
		{217,0,255,1,1,"","",3},
		{218,0,255,1,1,"","",3},
		{219,0,255,1,1,"","",3},
		{220,0,255,1,1,"","",3},
		{221,0,255,1,1,"","",3},
		{222,0,255,1,1,"","",3},
		{223,0,255,1,1,"","",3},
		{224,0,255,1,1,"","",3},
		{225,0,255,1,1,"","",3},
		{226,0,255,1,1,"","",3},
		{227,0,255,1,1,"","",3},
		{228,0,255,1,1,"","",3},
		{229,0,255,1,1,"","",3},
		{230,0,255,1,1,"","",3},
		{231,0,255,1,1,"","",3},
		{232,0,255,1,1,"","",3},
		{233,0,255,1,1,"","",3},
		{234,0,255,1,1,"","",3},
		{235,0,255,1,1,"","",3},
		{236,0,255,1,1,"","",3},
		{237,0,255,1,1,"","",3},
		{238,0,255,1,1,"","",3},
		{239,0,255,1,1,"","",3},
		{240,0,255,1,1,"","",3},
		{241,0,255,1,1,"","",3},
		{242,0,255,1,1,"","",3},
		{243,0,255,1,1,"","",3},
		{244,0,255,1,1,"","",3},
		{245,0,255,1,1,"","",3},
		{246,0,255,1,1,"","",3},
		{247,0,255,1,1,"","",3},
		{248,0,255,1,1,"","",3},
		{249,0,255,1,1,"","",3},
		{250,0,255,1,1,"","",3},
		{251,0,255,1,1,"","",3},
		{252,0,255,1,1,"","",3},
		{253,0,255,1,1,"","",3},
		{254,0,255,1,1,"","",3}
};

/// заполнение структуры игрока по ID инфой из таблицы
/// false - ошибка (неверный ID) 
bool InitPlayer(struct player* p)
{
  if( !p)
	  return false;
  if( p->userID > MAX_ARMLET)
	  return false;
  
  p->groupId = CONF[p->userID].groupId; // группа игроков
  p->maxForce = CONF[p->userID].maxForce; // макс силы
  p->evil = CONF[p->userID].evil; // сторона силы
  p->fph = CONF[p->userID].fph; // скорость восстановления силы (force per hour)
  strncpy( p->name, CONF[p->userID].name, 16); // имя персонажа
  strncpy( p->fname, CONF[p->userID].fname, 16); //боевое имя персонажа
  p->rights = CONF[p->userID].rights; // права браслета (см. AL_CAN в Osanve.h)

  
  p->enemyId=0; // противник
  p->atackSeq=0; // номер следующей атаки
  p->osanve=OSANVE_NORM; // сообщение-статус осанве
  p->cons=CONS_TO1HIT;   // выбранное последствие
  p->status=AL_STATUS_OSANVE; // состояние браслета
  p->force=p->maxForce; // сила
  p->penaltyCons=0;   // отложенное последствие
  p->penalty=0; // сила отложенной атаки на игрока (на время ввода в боевой режим)
  p->defeatTime=0; // оставшееся время нахождения в последствии
  
  return true;
}

} //namespace

